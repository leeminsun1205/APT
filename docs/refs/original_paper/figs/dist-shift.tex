% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
% \usepackage{multirow}
% \usepackage[normalem]{ulem}
% \useunder{\uline}{\ul}{}
\begin{table*}[]
\centering
\caption{The generalization of the prompts learned by our method on ImageNet to (1) datasets with input  distribution shifts and (2) the other 10 datasets. ``N/A" denotes that the corresponding method by design cannot generalize to the target setting. The results for both variants of our method are reported for the checkpoints trained with $M=4$ and 16 shots. $\epsilon=4/255$.}
\vspace{-3mm}
\label{tab: dist shift}
\begin{tabular}{@{}lcccccccccccc@{}}
\toprule
\multicolumn{1}{c}{\multirow{3}{*}{Method}} &
  \multicolumn{2}{c}{Source} &
  \multicolumn{8}{c}{Distribution Shifts} &
  \multicolumn{2}{c}{Cross Datasets} \\ \cmidrule(l){2-13} 
\multicolumn{1}{c}{} &
  \multicolumn{2}{c}{ImageNet} &
  \multicolumn{2}{c}{ImageNet-V2} &
  \multicolumn{2}{c}{ImageNet-Sketch} &
  \multicolumn{2}{c}{ImageNet-R} &
  \multicolumn{2}{c}{ObjectNet} &
  \multicolumn{2}{c}{10 Datasets Avg.} \\ \cmidrule(l){2-13} 
\multicolumn{1}{c}{} &
  Acc. &
  Rob. &
  Acc. &
  Rob. &
  Acc. &
  Rob. &
  Acc. &
  Rob. &
  Acc. &
  Rob. &
  Acc. &
  Rob. \\ \midrule
HEP &
  {\ul 39.86} &
  10.28 &
  {\ul 32.74} &
  7.49 &
  {\ul 17.40} &
  7.21 &
  21.46 &
  5.80 &
  {\ul 9.16} &
  1.15 &
  \textbf{32.32} &
  10.34 \\ 
AVP &
  39.61 &
  11.18 &
  32.68 &
  8.12 &
  17.39 &
  {\ul 7.69} &
  {\ul 21.47} &
  {\ul 6.25} &
  9.08 &
  {\ul 1.31} &
  31.37 &
  {\ul 11.13} \\
PAFT &
  31.92 &
  \textbf{12.90} &
  25.55 &
  \textbf{9.52} &
  10.02 &
  5.05 &
  13.34 &
  4.55 &
  5.57 &
  0.86 &
  N/A &
  N/A \\ \midrule
APT-CSC &
  37.18 &
  9.49 &
  28.93 &
  6.65 &
  12.72 &
  4.83 &
  15.06 &
  3.57 &
  7.17 &
  0.61 &
  N/A &
  N/A \\
APT-UC &
  \textbf{40.80} &
  {\ul 12.33} &
  \textbf{33.20} &
  {\ul 9.04} &
  \textbf{18.35} &
  \textbf{8.04} &
  \textbf{22.66} &
  \textbf{6.97} &
  \textbf{9.31} &
  \textbf{1.49} &
  {\ul 32.01} &
  \textbf{11.84} \\ \bottomrule
\end{tabular}
\vspace{-4mm}
\end{table*}